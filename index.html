<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="http://worrydream.com/Tangle/TangleKit/TangleKit.css" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Tangle document</title>

    <!-- Tangle -->
    <script type="text/javascript" src="Tangle.js"></script>

    <!-- TangleKit (optional) -->
    <link rel="stylesheet" href="TangleKit/TangleKit.css" type="text/css">
    <script type="text/javascript" src="TangleKit/mootools.js"></script>
    <script type="text/javascript" src="TangleKit/sprintf.js"></script>
    <script type="text/javascript" src="TangleKit/BVTouchable.js"></script>
    <script type="text/javascript" src="TangleKit/TangleKit.js"></script>
    <script src="jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="Examples/FilterExample.js"></script>
    <script type="text/javascript" src="Examples/FilterExampleDSP.js"></script>
    <!-- JQuery -->
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">   
    <script src="http://code.jquery.com/jquery-3.3.1.min.js">
    </script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js">
    </script>
	<script src="script.js"></script>
	<link href="style.css" rel="stylesheet"/>
</head>
<body onload="setUpTangle();">
	<div class="mint_green_main_div card helvetica">
		<div class="bluer_green_div card center"><span class="white header-font">Reactive Financial Documents</span>
		<br>
			<span class="white small">Research done by Sachin Kadyan (Department of CS, Columbia University) and Natasha Simadibrata (Columbia College '21) as part of <a href="https://www8.gsb.columbia.edu/fintech/about">Advanced Projects & Applied Research in Fintech</a> at Columbia Business School.</span>
		</div>
		<div id="introduction" class="dark_green">
			This independent research is focused on the creation of dynamic financial documents infused with accessible language to aid individuals in improving their financial literacy.
			<br>
			<br>
			We specifically delved into a Javascript library called <a href="http://worrydream.com/Tangle/">Tangle</a> created by Bret Victor, which enables us to include reactive features in our document.
			<br>
			<br>
			What does Tangle look like? <a href="javascript:showExample1()">Let's check it out!</a>
		</div>
		<!--
		<div class="main-content">

			<div class="center-text">

			</div>
		
		Purchase Price <a target="_blank" href="#" title="The total cost to buy the house."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="pPrice"></input>
		<br/>
		<br/>
		Down Payment <a target="_blank" href="#" title="An initial up-front partial payment for the purchase of the house, usually in cash."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>:
		<input id="dPayment"></input>
		<br/>
		<br/>
		Mortgage Rate <a target="_blank" href="#" title="The rate of interest charged on a mortgage."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="mRate"></input>
		<br/>
		<br/>
		Mortgage Term (Years) <a target="_blank" href="#" title="The length of time over which the borrower is agreeing to abide by the conditions of the mortgage."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="mYears"></input>
		<br/>
		<br/>
		Tax (Annual) <a target="_blank" href="#" title="The length of time over which the borrower is agreeing to abide by the conditions of the mortgage."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="tax"></input>
		<br/>
		<br/>
		Utilities (Additional Monthly) <a target="_blank" href="#" title="The length of time over which the borrower is agreeing to abide by the conditions of the mortgage."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="utilities"></input>
		<br/>
		<br/>
		Maintenance (Additional Monthly) <a target="_blank" href="#" title="The length of time over which the borrower is agreeing to abide by the conditions of the mortgage."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="maintenance"></input>
		<br/>
		<br/>
		Insurance (Annual) <a target="_blank" href="#" title="The length of time over which the borrower is agreeing to abide by the conditions of the mortgage."><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="10px"/></a>: 
		<input id="insurance"></input>
		<br/>
		<br/>
		<button onclick="addFields()">Calculate!</button>
		
		</div>
		--->
		<div id="example_1_content">
			<div class="bold dark_green">Example 1:</div>
			<br>
			<span class="dark_green">Here is a very simple Tangle example involving a use case about cookies and calories.</span>
			<div id="example1" class="emphasize-div effect1">
				<p>When you eat <span data-var="cookies" class="TKAdjustableNumber"> cookies</span>, you consume <span data-var="calories"> calories</span>.</p>
			</div>
			<span class="dark_green">How can we utilize Tangle to help us understand a financial concept? <a href="javascript:showExample2()">Let's find out!</a></span>
		</div>
		<div id="example_2_content">
			<div class="bold dark_green">Example 2:</div>
			<br>
			<span class="dark_green">Here is a simple Tangle example involving a financial concept regarding monthly savings.</span> 
			<div id="example2" class="emphasize-div effect1">
				<p>If in a month, you save $<span data-var="save_amount" class="TKNumberField"></span> a day for <span data-var="saving_days" class="TKAdjustableNumber" data-min="0" data-max="31" data-step="1"></span> days, at the end of the month you will have $<span class="bold" data-var='monthly_savings_result'></span>.</p>
			</div>
			<span class="dark_green">What if we wanted to expand our financial example to something more complicated? Let's try a reactive version of a <a href="javascript:showExample3()">simple mortgage case!</a></span>
		</div>
		<div id="example_3_content">
			<div class="bold dark_green">Example 3:</div>
			<br>
			<span class="dark_green">Now we've taken everything we've discovered with Tangle to create a simple monthly mortgage calculator.</span> 
			<div id ="example">
				<div id="mortgage_flow" class="emphasize-div effect1">
					<p> <span class="bold">If you stumbled on this site, you're probably very confused about purchasing a home of your own. Fret not, we are here to make the process simpler for you!</span>
					<br>
					<br>
					Let's first think about the <span class="lufthansa_old_blue bold">purchase price</span>, which is how much you have to pay to buy the property you have in mind. The listing amounts to: $<span data-var="purchase_price_2" class="TKNumberField"></span>. With that in mind, you also have to think of a plan to pay a <span class="lufthansa_old_blue bold">down payment</span>, which is how much you are paying from your own savings to buy the property (your mortgage lender will provide the rest as a mortgage loan). You have determined to pay out of your packet an amount of $<span data-var="down_payment_2" class="TKNumberField"></span>. 
					<br>
					<br>
					Once your mortgage lender, usually a bank, gives you a mortgage term, you will have been told of your <span class="lufthansa_old_blue bold">rate of interest</span>, which is the interest rate on your mortgage that your lender is providing you (expressed as a percentage): <span data-var="mortgage_rate_2" class="TKAdjustableNumber" data-format='twoDecimals' data-min="2.50" data-max="7.50" data-step='0.10'></span>%. Another important part of your agreement with your lender is the <span class="lufthansa_old_blue bold">term of your mortgage</span>, or the length of time over which the borrower is agreeing to abide by the conditions of the mortgage. Both of you have agreed to a mortgage term of <span data-var="mortgage_years_2" class="TKAdjustableNumber" data-min="5" data-max="30" data-step='5'></span> years.
					<br>
					<br>
					Now that we've figured out those four important factors, we can determine your <span class="lufthansa_old_blue bold">monthly mortgage payments</span> to be a total of <b>$<span data-var="monthly_mortgage_2"></span></b>. 
					</p>
				</div>
				<span class="dark_green">Unfortunately, this isn't all you have to keep in mind regarding the actual payments you will be making per month on this new home. You will also have to think about other important expenses: annual tax on your home, monthly utilities fees, monthly maintenance fees, and annual insurance cost. Let's see how they play into <a href="javascript:showCashFlow()">our calculations!</a></span>
				<br>
				<div id="cash_flow">
				<div class="emphasize-div effect1">
					<p>
					Your <span class="lufthansa_old_blue bold">monthly cash flow</span> is dependent on an <span class="lufthansa_old_blue bold">annual tax</span>. The annual tax is the total dollar amount of real estate taxes you will have to pay annually once you purchase your property. Your agent or broker should be able to tell you your annual real estate tax obligation. Keep in mind that your total annual real estate tax may vary a little from year to year, and its payment is obligatory (otherwise you might lose your home!). You have discovered that you will have to pay an annual tax of $<span data-var="annual_tax_2" class="TKNumberField"></span> on your home. 
					<br>
					<br>
					You will also have to keep in mind your <span class="lufthansa_old_blue bold">monthly utilities</span> fees. This is the total monthly dollars you will pay for basic utility services such as electricity, water, gas â€“ you may even want to consider other services such as cable, telephone, internet, and others. As you are contemplating buying a property, it would be challenging to know the exact figure for all your utilities. You can ask the current owner to provide you with an estimate, and you can adjust accordingly for other variables (the number of people living in the household, how much time they would spend at home, etc.). Your home has the monthly utilities fees of $<span data-var="monthly_utilities_2" class="TKNumberField"></span>.  
					<br>
					<br>
					Next, you will also have to find out what your <span class="lufthansa_old_blue bold">monthly maintenance</span> cost is. Maintenance is often a hidden cost of homeownership, and is necessary for the upkeep of the property and proper functioning of it. The estimated maintenance cost varies greatly from one property to the next, and is typically a function of how old a property is, how well-maintained it has been by prior owners (including prior renovations), its location, and much more. Your broker could help you with a proper estimate. This amounts to: $<span data-var="monthly_maintenance_2" class="TKNumberField"></span>. 
					<br>
					<br>
					The last thing you have to keep in mind is your <span class="lufthansa_old_blue bold">annual insurance</span> fees. Insurance is an essential part of homeownership, and your mortgage provider will require you to have one for your new home. This insurance generally protects you against catastrophes such as fires, but coverage varies greatly from one location to another and policies may not cover certain types of events (for example, protection against flooding typically requires a separate policy). You can ask the current owners of how much they pay to get an estimate, and be sure to investigate various insurance providers operating in the State you are buying your property in. This comes to an annual fee of $<span data-var="annual_insurance_2" class="TKNumberField"></span>. 
					<br>
					<br>
					When we take all of these expenses into account, the <span class="lufthansa_old_blue bold">total monthly payments</span> you will be making on your new home, added with your monthly mortgage payments, would be: <b>$<span data-var='monthly_cashflow_2'></span></b> 
					<br>
					<br>
					We hope this explanation was helpful! Good luck with your potential new purchase :)</p>
				</div>
				<span class="dark_green">Oh wait, <a href="javascript:showExample4()">there's more?</a></span>
				</div>
			</div>	
		</div>
		<div id="example_4_content">
			<div class="bold dark_green">Example 4:</div>
			<br>
			<span class="dark_green">We can also manipulate bars with Tangle:</span>
			<div id="example4" class="emphasize-div effect1">
				<p>My goal is to save $<span data-var="goal_for_month" class="TKAdjustableNumber" data-min="0" data-max="2000" data-step="5"></span> by the end of the month. I currently have $<span data-var="savings_sofar" class="TKAdjustableNumber" data-min="0" data-max="2000" data-step="5"></span> in my bank account so far.
				<br>
				<br>
				My savings progress tracker:
				</p>
				<div id="myProgress">
				  <div id="myBar" class="white center">20%</div>
				</div>
				<br>
			</div>
			<span class="dark_green">Oh wait, we can also use graphs to interact with content. Click <a href="javascript:showExample6()">here</a> to see...</span>
			<br>
		</div>

		<div id="example_6_content">
			<div class="bold dark_green">Example 5:</div>
			<br>
			<span class="dark_green">Change the value of any parameter by swiping on it sideways, and see the graph change in realtime!</span>
			<div id="example6" class="emphasize-div effect1">
			<p>Purchase Price: <span data-var="purchase_price" class="TKAdjustableNumber" data-format="dollarsWithCommas"
									data-min="0" data-max="1000000" data-step="10000"></span>.</p>
			<p>Down Payment: <span data-var="down_payment" class="TKAdjustableNumber" data-format="dollarsWithCommas"
									data-min="0" data-max="1000000" data-step="10000"></span>.</p>
			<p>Mortgage Rate: <span data-var="mortgage_rate" class="TKAdjustableNumber" data-format="%.2f"
									data-min="2.50" data-max="7.50" data-step="0.10"></span>%.</p>
			<p>Mortgage Years: <span data-var="mortgage_years" class="TKAdjustableNumber"
									data-min="5" data-max="30" data-step="5"></span> years.</p>
			<p>Annual Tax: <span data-var="annual_tax" class="TKAdjustableNumber" data-format="dollarsWithCommas"
									data-min="0" data-max="100000" data-step="500"></span>.</p>
			<p>Monthly Utilities: <span data-var="monthly_utilities" class="TKAdjustableNumber" data-format="dollarsWithCommas"
									data-min="0" data-max="5000" data-step="50"></span>.</p>
			<p>Monthly Maintenance: <span data-var="monthly_maintenance" class="TKAdjustableNumber" data-format="dollarsWithCommas"
									data-min="0" data-max="5000" data-step="50"></span>.</p>
			<p>Annual Insurance: <span data-var="annual_insurance" class="TKAdjustableNumber" data-format="dollarsWithCommas"
									data-min="0" data-max="5000" data-step="50"></span>.</p>
			<br>
			<p><b>Monthly Mortage:</b> <span data-var="monthly_mortgage" data-format="dollarsWithCommas"></span></p>
			<p><b>Monthly Cashflow:</b> <span data-var="monthly_cashflow" data-format="dollarsWithCommas" ></span></p>
			</div>
			<span class="dark_green">In the charts below, you can see how the mortgage rate, purchase price, and down payment affect your monthly cash outflow. Horizontal line marks break even point for monthly cashflow. If your rent is above the line, it's better to buy!</span>
			<div class="tabs">
				<ul class="tabs-list">
					<li class="active"><a href="#tab1">Tab1</a></li>
					<li ><a href="#tab2">Tab 2</a></li>
					<li ><a href="#tab3">Tab 3</a></li>
				</ul>
				<div id="tab1" class="mortgage_graph tab active" style="position: relative">
					<h1>Mortgage Rate</h1>
					<p>Moving the knob left/right changes the mortgage rate.</p>
					<div style="position: relative">
						<canvas class="MortgageGraph" data-var="" width="256" height="128"></canvas>
						<div class="Knob" data-var="mortgage_rate"></div>
					</div>
				</div>
				<div id="tab2" class="tab">
					<h1>Purchase Price</h1>
					<p>Moving the knob left/right changes the purchase price.</p>
					<div style="position: relative">
						<canvas class="MortgageGraph" data-var="" width="256" height="128"></canvas>
						<div class="Knob" data-var="purchase_price"></div>
					</div>
				</div>
				<div id="tab3" class="tab">
					<h1>Down Payment</h1>
					<p>Moving the knob left/right changes the down payment.</p>
					<div style="position: relative">
						<canvas class="MortgageGraph" data-var="" width="256" height="128"></canvas>
						<div class="Knob" data-var="down_payment"></div>
					</div>
				</div>
			</div>
		</div>

		<br>
		<br>
		<a href="#" onclick="window.location.reload(true);">Restart?</a>
		<br>
		<br>

	</div>

</body>
</html>